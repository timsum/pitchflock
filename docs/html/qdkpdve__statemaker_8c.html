<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>pitchflock: src/qdkpdve_statemaker.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">pitchflock
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('qdkpdve__statemaker_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">qdkpdve_statemaker.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation of functions for managing and analyzing harmony states in the pitchflock system.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;../include/qdkpdve_statemaker.h&quot;</code><br />
<code>#include &quot;../include/harmony_state.h&quot;</code><br />
<code>#include &quot;../include/qdkpdve.h&quot;</code><br />
<code>#include &quot;../include/qdkpdve_analysis.h&quot;</code><br />
<code>#include &quot;../include/qdkpdve_harmonycrystal.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for qdkpdve_statemaker.c:</div>
<div class="dyncontent">
<div class="center"><img src="qdkpdve__statemaker_8c__incl.png" border="0" usemap="#asrc_2qdkpdve__statemaker_8c" alt=""/></div>
<map name="asrc_2qdkpdve__statemaker_8c" id="asrc_2qdkpdve__statemaker_8c">
<area shape="rect" title="Implementation of functions for managing and analyzing harmony states in the pitchflock system." alt="" coords="285,5,460,31"/>
<area shape="rect" href="qdkpdve__statemaker_8h_source.html" title=" " alt="" coords="410,79,538,120"/>
<area shape="poly" title=" " alt="" coords="390,29,439,67,435,72,386,34"/>
<area shape="rect" href="harmony__state_8h_source.html" title=" " alt="" coords="5,168,124,193"/>
<area shape="poly" title=" " alt="" coords="351,34,103,162,100,158,348,29"/>
<area shape="rect" href="qdkpdve_8h_source.html" title=" " alt="" coords="384,241,465,267"/>
<area shape="poly" title=" " alt="" coords="376,31,382,101,390,147,400,193,414,226,409,228,395,194,384,148,377,101,370,32"/>
<area shape="rect" href="qdkpdve__analysis_8h_source.html" title=" " alt="" coords="148,168,285,193"/>
<area shape="poly" title=" " alt="" coords="363,33,241,158,237,154,359,30"/>
<area shape="rect" href="qdkpdve__harmonycrystal_8h_source.html" title=" " alt="" coords="634,168,812,193"/>
<area shape="poly" title=" " alt="" coords="417,29,481,49,551,77,629,117,694,157,691,161,627,122,549,81,479,54,416,34"/>
<area shape="rect" title=" " alt="" coords="292,315,352,341"/>
<area shape="poly" title=" " alt="" coords="448,122,423,144,400,169,378,203,359,239,333,301,328,299,354,236,373,200,396,166,420,140,445,118"/>
<area shape="rect" title=" " alt="" coords="416,315,479,341"/>
<area shape="poly" title=" " alt="" coords="538,101,617,107,703,119,778,138,807,150,827,166,831,180,827,194,809,238,795,254,774,269,752,280,722,289,646,305,494,325,494,320,645,300,720,284,750,275,771,265,791,250,804,235,822,192,826,180,822,169,804,155,777,143,702,124,616,112,538,106"/>
<area shape="rect" title=" " alt="" coords="410,168,471,193"/>
<area shape="poly" title=" " alt="" coords="468,121,454,154,449,152,463,119"/>
<area shape="rect" title=" " alt="" coords="495,168,559,193"/>
<area shape="poly" title=" " alt="" coords="489,119,513,153,508,156,485,122"/>
<area shape="poly" title=" " alt="" coords="410,116,139,168,138,162,409,110"/>
<area shape="poly" title=" " alt="" coords="521,118,547,133,568,151,579,171,579,183,573,195,555,215,532,230,481,248,480,243,529,226,551,211,569,192,573,182,574,173,564,154,544,137,519,123"/>
<area shape="poly" title=" " alt="" coords="410,123,271,165,270,160,409,118"/>
<area shape="poly" title=" " alt="" coords="537,118,671,160,669,165,535,123"/>
<area shape="poly" title=" " alt="" coords="87,192,288,305,286,309,85,196"/>
<area shape="poly" title=" " alt="" coords="409,270,353,308,350,304,406,265"/>
<area shape="poly" title=" " alt="" coords="431,266,441,299,436,301,426,268"/>
<area shape="poly" title=" " alt="" coords="227,192,306,301,302,304,223,195"/>
<area shape="poly" title=" " alt="" coords="253,191,376,233,374,238,251,196"/>
<area shape="poly" title=" " alt="" coords="691,196,367,313,365,308,689,191"/>
<area shape="poly" title=" " alt="" coords="673,197,481,242,480,237,672,191"/>
<area shape="rect" title=" " alt="" coords="686,241,760,267"/>
<area shape="poly" title=" " alt="" coords="726,194,726,226,720,226,720,194"/>
</map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a2f058a58b8ae9b26e26d94a3e7d78e79" id="r_a2f058a58b8ae9b26e26d94a3e7d78e79"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a2f058a58b8ae9b26e26d94a3e7d78e79">undo_kp_for_input_val</a> (int input_val, int k, int p)</td></tr>
<tr class="memdesc:a2f058a58b8ae9b26e26d94a3e7d78e79"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reduces an input value by applying modular rotation and compression.  <br /></td></tr>
<tr class="separator:a2f058a58b8ae9b26e26d94a3e7d78e79"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89b77c24729c56e6c3b20dc43dc66f2f" id="r_a89b77c24729c56e6c3b20dc43dc66f2f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a89b77c24729c56e6c3b20dc43dc66f2f">set_kp_list</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *a_state)</td></tr>
<tr class="memdesc:a89b77c24729c56e6c3b20dc43dc66f2f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a list of valid KPDVE encodings for the given harmony state.  <br /></td></tr>
<tr class="separator:a89b77c24729c56e6c3b20dc43dc66f2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8670eaa302999fa30947ffa6fe7fa237" id="r_a8670eaa302999fa30947ffa6fe7fa237"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8670eaa302999fa30947ffa6fe7fa237">modDistance</a> (int val1, int val2, int mod)</td></tr>
<tr class="memdesc:a8670eaa302999fa30947ffa6fe7fa237"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the modular distance between two values.  <br /></td></tr>
<tr class="separator:a8670eaa302999fa30947ffa6fe7fa237"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6a0dba96c20fa25c2d8834e8a4f8e623" id="r_a6a0dba96c20fa25c2d8834e8a4f8e623"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6a0dba96c20fa25c2d8834e8a4f8e623">biasedModDistance</a> (int val1, int val2, int mod, float bias)</td></tr>
<tr class="memdesc:a6a0dba96c20fa25c2d8834e8a4f8e623"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates a biased modular distance between two values.  <br /></td></tr>
<tr class="separator:a6a0dba96c20fa25c2d8834e8a4f8e623"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeaa9ec572d64e6c27cbc2ca195477b50" id="r_aeaa9ec572d64e6c27cbc2ca195477b50"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#aeaa9ec572d64e6c27cbc2ca195477b50">KPD_distance</a> (int kpdve_1, int kpdve_2)</td></tr>
<tr class="memdesc:aeaa9ec572d64e6c27cbc2ca195477b50"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calculates the distance between two KPDVE encodings.  <br /></td></tr>
<tr class="separator:aeaa9ec572d64e6c27cbc2ca195477b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f0d3ed11b940851d99378dc8b15a3cd" id="r_a6f0d3ed11b940851d99378dc8b15a3cd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6f0d3ed11b940851d99378dc8b15a3cd">set_min_index</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *current_state, int context)</td></tr>
<tr class="memdesc:a6f0d3ed11b940851d99378dc8b15a3cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the minimum index in the harmony state based on the context.  <br /></td></tr>
<tr class="separator:a6f0d3ed11b940851d99378dc8b15a3cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a847eb4eaa9c25a7edbea2ba8e5766b" id="r_a8a847eb4eaa9c25a7edbea2ba8e5766b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structharmony__state.html">harmony_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a8a847eb4eaa9c25a7edbea2ba8e5766b">harmony_state_from_binary</a> (int chroma_val)</td></tr>
<tr class="memdesc:a8a847eb4eaa9c25a7edbea2ba8e5766b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a harmony state from a binary chroma value (direction Hebrew).  <br /></td></tr>
<tr class="separator:a8a847eb4eaa9c25a7edbea2ba8e5766b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af16e3bb7ba57ca82b90bd745ef615648" id="r_af16e3bb7ba57ca82b90bd745ef615648"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#af16e3bb7ba57ca82b90bd745ef615648">choose_kpdve_from_context</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *current_state, int context)</td></tr>
<tr class="memdesc:af16e3bb7ba57ca82b90bd745ef615648"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts the harmony state context when choosing a KPDVE from the kpdve list after analyzing chroma.  <br /></td></tr>
<tr class="separator:af16e3bb7ba57ca82b90bd745ef615648"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae801b98d09b9ec408de7dcb396b47862" id="r_ae801b98d09b9ec408de7dcb396b47862"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structharmony__state.html">harmony_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ae801b98d09b9ec408de7dcb396b47862">harmony_state_from_binary_w_context</a> (int chroma_val, int contextkpdve)</td></tr>
<tr class="memdesc:ae801b98d09b9ec408de7dcb396b47862"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a harmony state from a binary chroma value and a context KPDVE.  <br /></td></tr>
<tr class="separator:ae801b98d09b9ec408de7dcb396b47862"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3a50a07b1653e4dcbebeb8107b0284ed" id="r_a3a50a07b1653e4dcbebeb8107b0284ed"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structharmony__state.html">harmony_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a3a50a07b1653e4dcbebeb8107b0284ed">harmony_state_from_kpdve</a> (int a_kpdve)</td></tr>
<tr class="memdesc:a3a50a07b1653e4dcbebeb8107b0284ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a harmony state from a KPDVE value.  <br /></td></tr>
<tr class="separator:a3a50a07b1653e4dcbebeb8107b0284ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a84c193f2dee5031b66d606ca7bc77a94" id="r_a84c193f2dee5031b66d606ca7bc77a94"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structharmony__state.html">harmony_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a84c193f2dee5031b66d606ca7bc77a94">harmony_state_default</a> (void)</td></tr>
<tr class="memdesc:a84c193f2dee5031b66d606ca7bc77a94"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a default harmony state with a specific KPDVE value &ndash; an F major triad, as base of lydian mode.  <br /></td></tr>
<tr class="separator:a84c193f2dee5031b66d606ca7bc77a94"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a12888cfb7f60ac4f7d5c9efdd2d4ddee" id="r_a12888cfb7f60ac4f7d5c9efdd2d4ddee"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structharmony__state.html">harmony_state</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a12888cfb7f60ac4f7d5c9efdd2d4ddee">harmony_state_from_min_encoding</a> (int kpdve_bin_encoding)</td></tr>
<tr class="memdesc:a12888cfb7f60ac4f7d5c9efdd2d4ddee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a harmony state from a minimum encoding value (X~~~k___p__d__v__e__B-A-G-FE-D-C)  <br /></td></tr>
<tr class="separator:a12888cfb7f60ac4f7d5c9efdd2d4ddee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1ca321b28f151d1e7eb2f3e1180d93c" id="r_ad1ca321b28f151d1e7eb2f3e1180d93c"><td class="memItemLeft" align="right" valign="top"><a id="ad1ca321b28f151d1e7eb2f3e1180d93c" name="ad1ca321b28f151d1e7eb2f3e1180d93c"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>adjust_harmony_state_from_min_encoding</b> (<a class="el" href="structharmony__state.html">harmony_state</a> *a_state, int kpdve_bin_encoding)</td></tr>
<tr class="separator:ad1ca321b28f151d1e7eb2f3e1180d93c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a99c0fd024046aba04989ffa5ed2d4898" id="r_a99c0fd024046aba04989ffa5ed2d4898"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a99c0fd024046aba04989ffa5ed2d4898">adjust_harmony_state_from_chroma</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *a_state, int chroma_val)</td></tr>
<tr class="memdesc:a99c0fd024046aba04989ffa5ed2d4898"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts an existing harmony state based on chroma input.  <br /></td></tr>
<tr class="separator:a99c0fd024046aba04989ffa5ed2d4898"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a38ba3bc311247cb61aab67f7bb60694c" id="r_a38ba3bc311247cb61aab67f7bb60694c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a38ba3bc311247cb61aab67f7bb60694c">adjust_harmony_state_from_chroma_and_context</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *a_state, int chroma_val, int context)</td></tr>
<tr class="memdesc:a38ba3bc311247cb61aab67f7bb60694c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts a harmony state based on chroma AND context.  <br /></td></tr>
<tr class="separator:a38ba3bc311247cb61aab67f7bb60694c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a03ec22799a14c708a8ac1d44af8f2282" id="r_a03ec22799a14c708a8ac1d44af8f2282"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a03ec22799a14c708a8ac1d44af8f2282">adjust_harmony_state_from_chroma_lr_and_context</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *a_state, int chroma_val, int context)</td></tr>
<tr class="memdesc:a03ec22799a14c708a8ac1d44af8f2282"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts a harmony state based on chroma (LEFT TO RIGHT AS IN ENGLISH!) and context.  <br /></td></tr>
<tr class="separator:a03ec22799a14c708a8ac1d44af8f2282"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6aa36b37589df7a2c2b4bab18c4293e2" id="r_a6aa36b37589df7a2c2b4bab18c4293e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a6aa36b37589df7a2c2b4bab18c4293e2">reverse_12_bits</a> (int num)</td></tr>
<tr class="memdesc:a6aa36b37589df7a2c2b4bab18c4293e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reverses the bits of a 12-bit integer.  <br /></td></tr>
<tr class="separator:a6aa36b37589df7a2c2b4bab18c4293e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a179a93acc591046b29d1264d0fb46bb5" id="r_a179a93acc591046b29d1264d0fb46bb5"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a179a93acc591046b29d1264d0fb46bb5">adjust_harmony_state_from_kpdve</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *a_state, int a_kpdve)</td></tr>
<tr class="memdesc:a179a93acc591046b29d1264d0fb46bb5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Adjusts a harmony state based on a KPDVE value.  <br /></td></tr>
<tr class="separator:a179a93acc591046b29d1264d0fb46bb5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62821604d38b7e040051b6f4f127cef7" id="r_a62821604d38b7e040051b6f4f127cef7"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a62821604d38b7e040051b6f4f127cef7">encode_and_validate_state</a> (<a class="el" href="structharmony__state.html">harmony_state</a> *a_state)</td></tr>
<tr class="memdesc:a62821604d38b7e040051b6f4f127cef7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Encodes and validates the harmony state.  <br /></td></tr>
<tr class="separator:a62821604d38b7e040051b6f4f127cef7"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation of functions for managing and analyzing harmony states in the pitchflock system. </p>
<p>This file contains functions for generating, adjusting, and validating harmony states, as well as calculating distances and encoding/decoding KPDVE values. It provides the core logic for harmony state manipulation and analysis. </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a99c0fd024046aba04989ffa5ed2d4898" name="a99c0fd024046aba04989ffa5ed2d4898"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a99c0fd024046aba04989ffa5ed2d4898">&#9670;&#160;</a></span>adjust_harmony_state_from_chroma()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adjust_harmony_state_from_chroma </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>a_state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>chroma_val</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjusts an existing harmony state based on chroma input. </p>
<p>This function updates the chromatic notes of the harmony state and recalculates the KPDVE list. It then selects the most appropriate KPDVE encoding based on the current state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_state</td><td>Pointer to the harmony state to adjust. </td></tr>
    <tr><td class="paramname">chroma_val</td><td>The chroma value to analyze (12-bit integer, left to right as in Hebrew). </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a38ba3bc311247cb61aab67f7bb60694c" name="a38ba3bc311247cb61aab67f7bb60694c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a38ba3bc311247cb61aab67f7bb60694c">&#9670;&#160;</a></span>adjust_harmony_state_from_chroma_and_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adjust_harmony_state_from_chroma_and_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>a_state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>chroma_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjusts a harmony state based on chroma AND context. </p>
<p>This function updates the chromatic notes of the harmony state and recalculates the KPDVE list. It then selects the most appropriate KPDVE encoding based on the provided context. Creates a hybrid markov chain.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_state</td><td>Pointer to the harmony state to adjust. </td></tr>
    <tr><td class="paramname">chroma_val</td><td>The chroma value to analyze (12-bit integer). </td></tr>
    <tr><td class="paramname">context</td><td>The context KPDVE value to guide the adjustment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a03ec22799a14c708a8ac1d44af8f2282" name="a03ec22799a14c708a8ac1d44af8f2282"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a03ec22799a14c708a8ac1d44af8f2282">&#9670;&#160;</a></span>adjust_harmony_state_from_chroma_lr_and_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adjust_harmony_state_from_chroma_lr_and_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>a_state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>chroma_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjusts a harmony state based on chroma (LEFT TO RIGHT AS IN ENGLISH!) and context. </p>
<p>This function updates the chromatic notes of the harmony state and recalculates the KPDVE list. It then selects the most appropriate KPDVE encoding based on the provided context. . Creates a hybrid markov chain.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_state</td><td>Pointer to the harmony state to adjust. </td></tr>
    <tr><td class="paramname">chroma_val</td><td>The chroma value to analyze (12-bit integer). </td></tr>
    <tr><td class="paramname">context</td><td>The context KPDVE value to guide the adjustment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a179a93acc591046b29d1264d0fb46bb5" name="a179a93acc591046b29d1264d0fb46bb5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a179a93acc591046b29d1264d0fb46bb5">&#9670;&#160;</a></span>adjust_harmony_state_from_kpdve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void adjust_harmony_state_from_kpdve </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>a_state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_kpdve</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjusts a harmony state based on a KPDVE value. </p>
<p>This function updates the KPDVE value of the harmony state and recalculates the chromatic notes. It also sets the KPDVE list and selects the minimum index based on the new KPDVE value.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_state</td><td>Pointer to the harmony state to adjust. </td></tr>
    <tr><td class="paramname">a_kpdve</td><td>The KPDVE value to set. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6a0dba96c20fa25c2d8834e8a4f8e623" name="a6a0dba96c20fa25c2d8834e8a4f8e623"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6a0dba96c20fa25c2d8834e8a4f8e623">&#9670;&#160;</a></span>biasedModDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float biasedModDistance </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>val1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>val2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mod</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">float</td>          <td class="paramname"><span class="paramname"><em>bias</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates a biased modular distance between two values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val1</td><td>The first value. </td></tr>
    <tr><td class="paramname">val2</td><td>The second value. </td></tr>
    <tr><td class="paramname">mod</td><td>The modulus for the calculation. </td></tr>
    <tr><td class="paramname">bias</td><td>The bias factor to apply. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The biased modular distance between the two values. </dd></dl>

</div>
</div>
<a id="af16e3bb7ba57ca82b90bd745ef615648" name="af16e3bb7ba57ca82b90bd745ef615648"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af16e3bb7ba57ca82b90bd745ef615648">&#9670;&#160;</a></span>choose_kpdve_from_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void choose_kpdve_from_context </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>current_state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Adjusts the harmony state context when choosing a KPDVE from the kpdve list after analyzing chroma. </p>
<p>This function updates the chromatic notes of the harmony state and recalculates the KPDVE list. It then selects the most appropriate KPDVE encoding based on the provided context.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_state</td><td>Pointer to the harmony state to adjust. </td></tr>
    <tr><td class="paramname">chroma_val</td><td>The chroma value to analyze (12-bit integer). </td></tr>
    <tr><td class="paramname">context</td><td>The context KPDVE value to guide the adjustment. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a62821604d38b7e040051b6f4f127cef7" name="a62821604d38b7e040051b6f4f127cef7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a62821604d38b7e040051b6f4f127cef7">&#9670;&#160;</a></span>encode_and_validate_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void encode_and_validate_state </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>a_state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Encodes and validates the harmony state. </p>
<p>This function encodes the harmony state into a binary format and validates its integrity by checking the number of chromatic notes and the KPDVE list length.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_state</td><td>Pointer to the harmony state to encode and validate. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a84c193f2dee5031b66d606ca7bc77a94" name="a84c193f2dee5031b66d606ca7bc77a94"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a84c193f2dee5031b66d606ca7bc77a94">&#9670;&#160;</a></span>harmony_state_default()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structharmony__state.html">harmony_state</a> harmony_state_default </td>
          <td>(</td>
          <td class="paramtype">void</td>          <td class="paramname"><span class="paramname"><em></em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a default harmony state with a specific KPDVE value &ndash; an F major triad, as base of lydian mode. </p>
<p>This function initializes a harmony state with a default KPDVE value and sets the chromatic notes to represent a major triad.</p>
<dl class="section return"><dt>Returns</dt><dd>The default harmony state. </dd></dl>

</div>
</div>
<a id="a8a847eb4eaa9c25a7edbea2ba8e5766b" name="a8a847eb4eaa9c25a7edbea2ba8e5766b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8a847eb4eaa9c25a7edbea2ba8e5766b">&#9670;&#160;</a></span>harmony_state_from_binary()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structharmony__state.html">harmony_state</a> harmony_state_from_binary </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>chroma_val</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a harmony state from a binary chroma value (direction Hebrew). </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chroma_val</td><td>The binary chroma value to process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The generated harmony state. </dd></dl>

</div>
</div>
<a id="ae801b98d09b9ec408de7dcb396b47862" name="ae801b98d09b9ec408de7dcb396b47862"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae801b98d09b9ec408de7dcb396b47862">&#9670;&#160;</a></span>harmony_state_from_binary_w_context()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structharmony__state.html">harmony_state</a> harmony_state_from_binary_w_context </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>chroma_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>contextkpdve</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a harmony state from a binary chroma value and a context KPDVE. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">chroma_val</td><td>The binary chroma value to process (12 bits, left to right as in Hebrew). </td></tr>
    <tr><td class="paramname">contextkpdve</td><td>The context KPDVE value to guide the adjustment. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The generated harmony state. </dd></dl>

</div>
</div>
<a id="a3a50a07b1653e4dcbebeb8107b0284ed" name="a3a50a07b1653e4dcbebeb8107b0284ed"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3a50a07b1653e4dcbebeb8107b0284ed">&#9670;&#160;</a></span>harmony_state_from_kpdve()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structharmony__state.html">harmony_state</a> harmony_state_from_kpdve </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>a_kpdve</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a harmony state from a KPDVE value. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_kpdve</td><td>The KPDVE value to process. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The generated harmony state. </dd></dl>

</div>
</div>
<a id="a12888cfb7f60ac4f7d5c9efdd2d4ddee" name="a12888cfb7f60ac4f7d5c9efdd2d4ddee"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a12888cfb7f60ac4f7d5c9efdd2d4ddee">&#9670;&#160;</a></span>harmony_state_from_min_encoding()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structharmony__state.html">harmony_state</a> harmony_state_from_min_encoding </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kpdve_bin_encoding</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates a harmony state from a minimum encoding value (X~~~k___p__d__v__e__B-A-G-FE-D-C) </p>
<p>This function extracts the KPDVE and chromatic notes from the provided minimum encoding value and creates a corresponding harmony state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kpdve_bin_encoding</td><td>The minimum encoding value (binary). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The generated harmony state. </dd></dl>

</div>
</div>
<a id="aeaa9ec572d64e6c27cbc2ca195477b50" name="aeaa9ec572d64e6c27cbc2ca195477b50"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aeaa9ec572d64e6c27cbc2ca195477b50">&#9670;&#160;</a></span>KPD_distance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double KPD_distance </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kpdve_1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>kpdve_2</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the distance between two KPDVE encodings. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">kpdve_1</td><td>The first KPDVE encoding. </td></tr>
    <tr><td class="paramname">kpdve_2</td><td>The second KPDVE encoding. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The distance between the two KPDVE encodings. </dd></dl>

</div>
</div>
<a id="a8670eaa302999fa30947ffa6fe7fa237" name="a8670eaa302999fa30947ffa6fe7fa237"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8670eaa302999fa30947ffa6fe7fa237">&#9670;&#160;</a></span>modDistance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float modDistance </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>val1</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>val2</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>mod</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calculates the modular distance between two values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">val1</td><td>The first value. </td></tr>
    <tr><td class="paramname">val2</td><td>The second value. </td></tr>
    <tr><td class="paramname">mod</td><td>The modulus for the calculation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The modular distance between the two values. </dd></dl>

</div>
</div>
<a id="a6aa36b37589df7a2c2b4bab18c4293e2" name="a6aa36b37589df7a2c2b4bab18c4293e2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6aa36b37589df7a2c2b4bab18c4293e2">&#9670;&#160;</a></span>reverse_12_bits()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int reverse_12_bits </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>num</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reverses the bits of a 12-bit integer. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">num</td><td>The 12-bit integer to reverse. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The reversed 12-bit integer. </dd></dl>

</div>
</div>
<a id="a89b77c24729c56e6c3b20dc43dc66f2f" name="a89b77c24729c56e6c3b20dc43dc66f2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a89b77c24729c56e6c3b20dc43dc66f2f">&#9670;&#160;</a></span>set_kp_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_kp_list </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>a_state</em></span></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Generates a list of valid KPDVE encodings for the given harmony state. </p>
<p>This function iterates through all possible Key-Pattern (KP) combinations and calculates the corresponding Degree-Voiding-Extension (DVE) values. It populates the <code>kpdve_list</code>, <code>dve_list</code>, and <code>ve_list</code> fields of the harmony state.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">a_state</td><td>Pointer to the harmony state to process. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a6f0d3ed11b940851d99378dc8b15a3cd" name="a6f0d3ed11b940851d99378dc8b15a3cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f0d3ed11b940851d99378dc8b15a3cd">&#9670;&#160;</a></span>set_min_index()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void set_min_index </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structharmony__state.html">harmony_state</a> *</td>          <td class="paramname"><span class="paramname"><em>current_state</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>context</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the minimum index in the harmony state based on the context. </p>
<p>This function compares the KPDVE list in the harmony state with the context and selects the index with the minimum distance.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_state</td><td>Pointer to the current harmony state. </td></tr>
    <tr><td class="paramname">context</td><td>The context KPDVE value to compare against. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a2f058a58b8ae9b26e26d94a3e7d78e79" name="a2f058a58b8ae9b26e26d94a3e7d78e79"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f058a58b8ae9b26e26d94a3e7d78e79">&#9670;&#160;</a></span>undo_kp_for_input_val()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int undo_kp_for_input_val </td>
          <td>(</td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>input_val</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>k</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int</td>          <td class="paramname"><span class="paramname"><em>p</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reduces an input value by applying modular rotation and compression. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">input_val</td><td>The input value to process. </td></tr>
    <tr><td class="paramname">k</td><td>The key value for modular rotation. </td></tr>
    <tr><td class="paramname">p</td><td>The pattern value for compression. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The compressed value after applying modular rotation and pattern filtering. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="qdkpdve__statemaker_8c.html">qdkpdve_statemaker.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.13.2 </li>
  </ul>
</div>
</body>
</html>
